/**
 * @fileoverview インフラストラクチャ層 - システムクロック
 * 
 * クリーンアーキテクチャにおけるインフラストラクチャ層の実装。
 * ドメイン層で定義されたDraftClockポートの具体的実装として、
 * システムの現在時刻を提供する。
 * 
 * 設計原則：
 * - アダプターパターン：システム時刻APIをドメインポートに適応
 * - 依存性逆転：ドメイン層が定義したインターフェイスを実装
 * - テスタビリティ：テスト時には固定時刻を返す実装に置き換え可能
 * - 時刻の抽象化：ドメインロジックから具体的な時刻取得方法を隠蔽
 */

import type { DraftClock } from "../domain/postDraft";

/**
 * システムクロック
 * 
 * DraftClockポートのシステム時刻実装。
 * JavaScript標準のDateオブジェクトを使用して、
 * 現在のシステム時刻を提供する。
 * 
 * 実装の特徴：
 * - システム時刻に依存：実行環境の現在時刻を返却
 * - UTCベース：Dateオブジェクトは内部的にUTCで管理
 * - タイムゾーン考慮：表示時にはローカルタイムゾーンが適用
 * - テスト対応：テスト時には固定時刻を返すモック実装と交換可能
 */
export class SystemClock implements DraftClock {
  /**
   * 現在時刻の取得
   * 
   * システムの現在時刻を取得してDateオブジェクトとして返す。
   * ドメインエンティティの作成時刻やタイムスタンプの
   * 生成に使用される。
   * 
   * @returns 現在のシステム時刻
   */
  now(): Date {
    return new Date();
  }
}
